(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4944],{22346:(e,a,t)=>{"use strict";t.d(a,{w:()=>d});var r=t(95155),s=t(12115),i=t(87489),n=t(59434);let d=s.forwardRef((e,a)=>{let{className:t,orientation:s="horizontal",decorative:d=!0,...o}=e;return(0,r.jsx)(i.b,{ref:a,decorative:d,orientation:s,className:(0,n.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",t),...o})});d.displayName=i.b.displayName},27600:(e,a,t)=>{"use strict";t.d(a,{A:()=>c,AuthProvider:()=>u});var r=t(95155),s=t(93004),i=t(35695),n=t(12115),d=t(56104),o=t(87481);let l=(0,n.createContext)(void 0);function c(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function u(e){let{children:a}=e,[t,c]=(0,n.useState)(null),[u,f]=(0,n.useState)(!0),[m,p]=(0,n.useState)(null),b=(0,i.useRouter)(),{toast:h}=(0,o.dj)();(0,n.useEffect)(()=>(0,s.hg)(d.j2,e=>{c(e),f(!1)},e=>{p(e.message),f(!1),h({title:"Authentication Error",description:e.message,variant:"destructive"})}),[h]);let g=(0,n.useCallback)(async(e,a,t)=>{f(!0),p(null);try{let r=await (0,s.eJ)(d.j2,e,a);await (0,s.r7)(r.user,{displayName:t}),c(r.user),h({title:"Signup Successful!",description:"Welcome to StudyTrack!"}),b.push("/dashboard")}catch(e){p(e.message),"auth/email-already-in-use"===e.code?h({title:"Signup Failed",description:"This email address is already registered. Please use a different email or try logging in.",variant:"destructive"}):h({title:"Signup Failed",description:e.message,variant:"destructive"})}finally{f(!1)}},[d.j2,b,h]),x=(0,n.useCallback)(async(e,a)=>{f(!0),p(null);try{await (0,s.x9)(d.j2,e,a),h({title:"Login Successful!",description:"Welcome back!"}),b.push("/dashboard")}catch(e){p(e.message),h({title:"Login Failed",description:e.message,variant:"destructive"})}finally{f(!1)}},[d.j2,b,h]),v=(0,n.useCallback)(async()=>{f(!0),p(null);try{await (0,s.CI)(d.j2),h({title:"Logged Out",description:"You have been successfully logged out."}),b.push("/login")}catch(e){p(e.message),h({title:"Logout Failed",description:e.message,variant:"destructive"})}finally{f(!1)}},[d.j2,b,h]),y=(0,n.useMemo)(()=>({currentUser:t,loading:u,error:m,signUp:g,signIn:x,logOut:v}),[t,u,m,g,x,v]);return(0,r.jsx)(l.Provider,{value:y,children:a})}},30285:(e,a,t)=>{"use strict";t.d(a,{$:()=>l,r:()=>o});var r=t(95155),s=t(12115),i=t(99708),n=t(74466),d=t(59434);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,a)=>{let{className:t,variant:s,size:n,asChild:l=!1,...c}=e,u=l?i.DX:"button";return(0,r.jsx)(u,{className:(0,d.cn)(o({variant:s,size:n,className:t})),ref:a,...c})});l.displayName="Button"},38382:(e,a,t)=>{"use strict";t.d(a,{CG:()=>c,cj:()=>l,h:()=>b,kN:()=>u});var r=t(95155),s=t(12115),i=t(15452),n=t(74466),d=t(25318),o=t(59434);let l=i.bL,c=i.l9,u=i.bm,f=i.ZL,m=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(i.hJ,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a})});m.displayName=i.hJ.displayName;let p=(0,n.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),b=s.forwardRef((e,a)=>{let{side:t="right",className:s,children:n,...l}=e;return(0,r.jsxs)(f,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(i.UC,{ref:a,className:(0,o.cn)(p({side:t}),s),...l,children:[n,(0,r.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});b.displayName=i.UC.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(i.hE,{ref:a,className:(0,o.cn)("text-lg font-semibold text-foreground",t),...s})}).displayName=i.hE.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(i.VY,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",t),...s})}).displayName=i.VY.displayName},46102:(e,a,t)=>{"use strict";t.d(a,{Bc:()=>d,ZI:()=>c,k$:()=>l,m_:()=>o});var r=t(95155),s=t(12115),i=t(89613),n=t(59434);let d=i.Kq,o=i.bL,l=i.l9,c=s.forwardRef((e,a)=>{let{className:t,sideOffset:s=4,...d}=e;return(0,r.jsx)(i.UC,{ref:a,sideOffset:s,className:(0,n.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...d})});c.displayName=i.UC.displayName},56104:(e,a,t)=>{"use strict";let r;t.d(a,{db:()=>c,j2:()=>l});var s=t(23915),i=t(93004),n=t(35317),d=t(86864);let o={apiKey:"AIzaSyAuHcdS5piYz3vMmCji71C-TgrYvZeC7Mw",authDomain:"studyplanner-4abf5.firebaseapp.com",projectId:"studyplanner-4abf5",storageBucket:"studyplanner-4abf5.firebasestorage.app",messagingSenderId:"193887379026",appId:"1:193887379026:web:34b7b5e1bde23d79c5898b",measurementId:"G-PZWY3Y7QBE"};o.apiKey&&o.projectId||console.error("CRITICAL FIREBASE CONFIGURATION ERROR: Firebase apiKey or projectId is missing or undefined.","This usually means your environment variables are not loaded correctly.","Please verify the following:","1. Your .env file is at the ROOT of your project.",'2. All Firebase related environment variables in .env START WITH "NEXT_PUBLIC_". (e.g., NEXT_PUBLIC_FIREBASE_API_KEY).',"3. You have RESTARTED your Next.js development server after making changes to the .env file.","4. The values in your .env file are correct and do not contain typos.","Current apiKey used for initialization: ".concat(o.apiKey),"Current projectId used for initialization: ".concat(o.projectId)),r=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)(o);let l=(0,i.xI)(r),c=(0,n.aU)(r);if(o.measurementId)try{(0,d.P5)(r)}catch(e){console.error("Firebase Analytics initialization error:",e)}(0,i.oM)(l,i.F0).catch(e=>{console.error("Firebase: Error setting auth persistence:",e.code,e.message)})},59424:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>eu});var r=t(95155),s=t(12115),i=t(6874),n=t.n(i),d=t(35695),o=t(10469),l=t(98328),c=t(70593),u=t(59099),f=t(77724),m=t(67270),p=t(45554),b=t(18553),h=t(94815),g=t(75182),x=t(18271),v=t(99708),y=t(74466),w=t(15546),N=t(59434),j=t(30285),S=t(62523),k=t(22346),A=t(38382),R=t(68856),_=t(46102);let z=s.createContext(null);function C(){let e=s.useContext(z);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}let E=s.forwardRef((e,a)=>{let{defaultOpen:t=!0,open:i,onOpenChange:n,className:d,style:o,children:l,...c}=e,u=function(){let[e,a]=s.useState(void 0);return s.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),t=()=>{a(window.innerWidth<768)};return e.addEventListener("change",t),a(window.innerWidth<768),()=>e.removeEventListener("change",t)},[]),!!e}(),[f,m]=s.useState(!1),[p,b]=s.useState(t),h=null!=i?i:p,g=s.useCallback(e=>{let a="function"==typeof e?e(h):e;n?n(a):b(a),document.cookie="".concat("sidebar_state","=").concat(a,"; path=/; max-age=").concat(604800)},[n,h]),x=s.useCallback(()=>u?m(e=>!e):g(e=>!e),[u,g,m]);s.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),x())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[x]);let v=h?"expanded":"collapsed",y=s.useMemo(()=>({state:v,open:h,setOpen:g,isMobile:u,openMobile:f,setOpenMobile:m,toggleSidebar:x}),[v,h,g,u,f,m,x]);return(0,r.jsx)(z.Provider,{value:y,children:(0,r.jsx)(_.Bc,{delayDuration:0,children:(0,r.jsx)("div",{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...o},className:(0,N.cn)("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",d),ref:a,...c,children:l})})})});E.displayName="SidebarProvider";let T=s.forwardRef((e,a)=>{let{side:t="left",variant:s="sidebar",collapsible:i="offcanvas",className:n,children:d,defaultOpen:o,...l}=e,{isMobile:c,state:u,openMobile:f,setOpenMobile:m}=C();return"none"===i?(0,r.jsx)("div",{className:(0,N.cn)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:a,...l,children:d}):c?(0,r.jsx)(A.cj,{open:f,onOpenChange:m,...l,children:(0,r.jsx)(A.h,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:(0,r.jsx)("div",{className:"flex h-full w-full flex-col",children:d})})}):(0,r.jsxs)("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":u,"data-collapsible":"collapsed"===u?i:"","data-variant":s,"data-side":t,children:[(0,r.jsx)("div",{className:(0,N.cn)("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),(0,r.jsx)("div",{className:(0,N.cn)("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===s||"inset"===s?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...l,children:(0,r.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:d})})]})});T.displayName="Sidebar";let I=s.forwardRef((e,a)=>{let{className:t,onClick:s,...i}=e,{toggleSidebar:n}=C();return(0,r.jsxs)(j.$,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:(0,N.cn)("h-7 w-7",t),onClick:e=>{null==s||s(e),n()},...i,children:[(0,r.jsx)(w.A,{}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})});I.displayName="SidebarTrigger",s.forwardRef((e,a)=>{let{className:t,...s}=e,{toggleSidebar:i}=C();return(0,r.jsx)("button",{ref:a,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:i,title:"Toggle Sidebar",className:(0,N.cn)("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...s})}).displayName="SidebarRail";let O=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("main",{ref:a,className:(0,N.cn)("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...s})});O.displayName="SidebarInset",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(S.p,{ref:a,"data-sidebar":"input",className:(0,N.cn)("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...s})}).displayName="SidebarInput";let M=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,"data-sidebar":"header",className:(0,N.cn)("flex flex-col gap-2 p-2",t),...s})});M.displayName="SidebarHeader";let P=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,"data-sidebar":"footer",className:(0,N.cn)("flex flex-col gap-2 p-2",t),...s})});P.displayName="SidebarFooter";let D=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(k.w,{ref:a,"data-sidebar":"separator",className:(0,N.cn)("mx-2 w-auto bg-sidebar-border",t),...s})});D.displayName="SidebarSeparator";let F=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,"data-sidebar":"content",className:(0,N.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s})});F.displayName="SidebarContent",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,"data-sidebar":"group",className:(0,N.cn)("relative flex w-full min-w-0 flex-col p-2",t),...s})}).displayName="SidebarGroup",s.forwardRef((e,a)=>{let{className:t,asChild:s=!1,...i}=e,n=s?v.DX:"div";return(0,r.jsx)(n,{ref:a,"data-sidebar":"group-label",className:(0,N.cn)("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...i})}).displayName="SidebarGroupLabel",s.forwardRef((e,a)=>{let{className:t,asChild:s=!1,...i}=e,n=s?v.DX:"button";return(0,r.jsx)(n,{ref:a,"data-sidebar":"group-action",className:(0,N.cn)("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...i})}).displayName="SidebarGroupAction",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,"data-sidebar":"group-content",className:(0,N.cn)("w-full text-sm",t),...s})}).displayName="SidebarGroupContent";let L=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("ul",{ref:a,"data-sidebar":"menu",className:(0,N.cn)("flex w-full min-w-0 flex-col gap-1",t),...s})});L.displayName="SidebarMenu";let U=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("li",{ref:a,"data-sidebar":"menu-item",className:(0,N.cn)("group/menu-item relative",t),...s})});U.displayName="SidebarMenuItem";let B=(0,y.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),W=s.forwardRef((e,a)=>{let{asChild:t=!1,isActive:s=!1,variant:i="default",size:n="default",tooltip:d,className:o,...l}=e,c=t?v.DX:"button",{isMobile:u,state:f}=C(),m=(0,r.jsx)(c,{ref:a,"data-sidebar":"menu-button","data-size":n,"data-active":s,className:(0,N.cn)(B({variant:i,size:n}),o),...l});return d?("string"==typeof d&&(d={children:d}),(0,r.jsxs)(_.m_,{children:[(0,r.jsx)(_.k$,{asChild:!0,children:m}),(0,r.jsx)(_.ZI,{side:"right",align:"center",hidden:"collapsed"!==f||u,...d})]})):m});W.displayName="SidebarMenuButton",s.forwardRef((e,a)=>{let{className:t,asChild:s=!1,showOnHover:i=!1,...n}=e,d=s?v.DX:"button";return(0,r.jsx)(d,{ref:a,"data-sidebar":"menu-action",className:(0,N.cn)("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",i&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})}).displayName="SidebarMenuAction",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,"data-sidebar":"menu-badge",className:(0,N.cn)("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...s})}).displayName="SidebarMenuBadge",s.forwardRef((e,a)=>{let{className:t,showIcon:i=!1,...n}=e,d=s.useMemo(()=>"".concat(Math.floor(40*Math.random())+50,"%"),[]);return(0,r.jsxs)("div",{ref:a,"data-sidebar":"menu-skeleton",className:(0,N.cn)("rounded-md h-8 flex gap-2 px-2 items-center",t),...n,children:[i&&(0,r.jsx)(R.E,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),(0,r.jsx)(R.E,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":d}})]})}).displayName="SidebarMenuSkeleton",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("ul",{ref:a,"data-sidebar":"menu-sub",className:(0,N.cn)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...s})}).displayName="SidebarMenuSub",s.forwardRef((e,a)=>{let{...t}=e;return(0,r.jsx)("li",{ref:a,...t})}).displayName="SidebarMenuSubItem",s.forwardRef((e,a)=>{let{asChild:t=!1,size:s="md",isActive:i,className:n,...d}=e,o=t?v.DX:"a";return(0,r.jsx)(o,{ref:a,"data-sidebar":"menu-sub-button","data-size":s,"data-active":i,className:(0,N.cn)("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===s&&"text-xs","md"===s&&"text-sm","group-data-[collapsible=icon]:hidden",n),...d})}).displayName="SidebarMenuSubButton";let V=[{title:"Core Tools",items:[{href:"/dashboard",label:"Dashboard",icon:o.A},{href:"/study-planner",label:"Study Planner",icon:l.A},{href:"/tasks",label:"Tasks",icon:c.A},{href:"/pomodoro",label:"Pomodoro Timer",icon:u.A}]},{title:"AI Features",items:[{href:"/ai-tools",label:"AI Tools Hub",icon:f.A},{href:"/ai-tools/smart-quiz",label:"SmartQuiz AI",icon:m.A},{href:"/ai-recommendations",label:"AI Coach",icon:p.A}]},{title:"Engagement",items:[{href:"/streaks",label:"Study Streaks",icon:b.A},{href:"/rewards-shop",label:"Rewards Shop",icon:h.A}]}];function Y(){let e=(0,d.usePathname)(),a=a=>["/dashboard","/ai-recommendations","/ai-tools/smart-quiz","/pomodoro","/streaks","/rewards-shop","/settings"].includes(a)?e===a:"/ai-tools"===a?e.startsWith("/ai-tools")&&"/ai-tools/smart-quiz"!==e:e.startsWith(a);return(0,r.jsxs)(T,{collapsible:"icon",defaultOpen:!0,className:"border-r",children:[(0,r.jsx)(M,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(n(),{href:"/",className:"flex items-center gap-2 group-data-[collapsible=icon]:hidden",children:[(0,r.jsx)(g.A,{className:"h-7 w-7 text-primary"}),(0,r.jsx)("span",{className:"font-headline text-xl font-bold text-sidebar-foreground",children:"StudyTrack"})]}),(0,r.jsx)(I,{className:"hidden lg:flex"})]})}),(0,r.jsx)(F,{className:"p-2 flex-grow",children:(0,r.jsx)(L,{children:V.map((e,t)=>(0,r.jsxs)(s.Fragment,{children:[t>0&&(0,r.jsx)(D,{className:"my-2"}),(0,r.jsx)("div",{className:"px-3 py-1.5 text-xs font-semibold text-sidebar-foreground/70 group-data-[collapsible=icon]:hidden",children:e.title}),e.items.map(e=>{let t=a(e.href);return(0,r.jsx)(U,{children:(0,r.jsx)(W,{asChild:!0,tooltip:{children:e.label,side:"right",align:"center"},isActive:t,className:(0,N.cn)("transition-all duration-200",t&&"border-l-4 border-primary pl-1"),children:(0,r.jsxs)(n(),{href:e.href,children:[(0,r.jsx)(e.icon,{className:(0,N.cn)(t?"text-primary":"")}),(0,r.jsx)("span",{children:e.label})]})})},e.label)})]},e.title))})}),(0,r.jsx)(P,{className:"p-2 border-t border-sidebar-border mt-auto",children:(0,r.jsx)(L,{children:(0,r.jsx)(U,{children:(0,r.jsx)(W,{asChild:!0,tooltip:{children:"Settings",side:"right",align:"center"},isActive:"/settings"===e,className:(0,N.cn)("transition-all duration-200","/settings"===e&&"border-l-4 border-primary pl-1"),children:(0,r.jsxs)(n(),{href:"/settings",children:[(0,r.jsx)(x.A,{className:(0,N.cn)("/settings"===e?"text-primary":"")}),(0,r.jsx)("span",{children:"Settings"})]})})})})})]})}var G=t(50172),q=t(38988),H=t(33349),K=t(54011);let X=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(K.bL,{ref:a,className:(0,N.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s})});X.displayName=K.bL.displayName;let Z=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(K._V,{ref:a,className:(0,N.cn)("aspect-square h-full w-full",t),...s})});Z.displayName=K._V.displayName;let $=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(K.H4,{ref:a,className:(0,N.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s})});$.displayName=K.H4.displayName;var J=t(48698),Q=t(73158),ee=t(10518),ea=t(70154);let et=J.bL,er=J.l9;J.YJ,J.ZL,J.Pb,J.z6,s.forwardRef((e,a)=>{let{className:t,inset:s,children:i,...n}=e;return(0,r.jsxs)(J.ZP,{ref:a,className:(0,N.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...n,children:[i,(0,r.jsx)(Q.A,{className:"ml-auto"})]})}).displayName=J.ZP.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(J.G5,{ref:a,className:(0,N.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}).displayName=J.G5.displayName;let es=s.forwardRef((e,a)=>{let{className:t,sideOffset:s=4,...i}=e;return(0,r.jsx)(J.ZL,{children:(0,r.jsx)(J.UC,{ref:a,sideOffset:s,className:(0,N.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});es.displayName=J.UC.displayName;let ei=s.forwardRef((e,a)=>{let{className:t,inset:s,...i}=e;return(0,r.jsx)(J.q7,{ref:a,className:(0,N.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...i})});ei.displayName=J.q7.displayName,s.forwardRef((e,a)=>{let{className:t,children:s,checked:i,...n}=e;return(0,r.jsxs)(J.H_,{ref:a,className:(0,N.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:i,...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(J.VF,{children:(0,r.jsx)(ee.A,{className:"h-4 w-4"})})}),s]})}).displayName=J.H_.displayName,s.forwardRef((e,a)=>{let{className:t,children:s,...i}=e;return(0,r.jsxs)(J.hN,{ref:a,className:(0,N.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(J.VF,{children:(0,r.jsx)(ea.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=J.hN.displayName;let en=s.forwardRef((e,a)=>{let{className:t,inset:s,...i}=e;return(0,r.jsx)(J.JU,{ref:a,className:(0,N.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...i})});en.displayName=J.JU.displayName;let ed=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(J.wv,{ref:a,className:(0,N.cn)("-mx-1 my-1 h-px bg-muted",t),...s})});ed.displayName=J.wv.displayName;var eo=t(27600),el=t(56104),ec=t(35317);function eu(e){var a;let{children:t}=e,{currentUser:i,loading:o,logOut:l}=(0,eo.A)(),c=(0,d.useRouter)(),u=(0,d.usePathname)(),[f,m]=(0,s.useState)(null),[p,b]=(0,s.useState)(!0);if((0,s.useEffect)(()=>{o||i||"/login"===u||"/signup"===u||u.startsWith("/blog")||"/"===u||"/terms"===u||"/privacy"===u||c.push("/login")},[i,o,c,u]),(0,s.useEffect)(()=>{let e;if((null==i?void 0:i.uid)&&el.db){b(!0);let a=(0,ec.H9)(el.db,"users",i.uid,"userProfile","profile");e=(0,ec.aQ)(a,e=>{e.exists()?m(e.data()):m({onboardingCompleted:!1}),b(!1)},e=>{console.error("Error fetching user profile:",e),m({onboardingCompleted:!1}),b(!1)})}else(null==i?void 0:i.uid)||(m(null),b(!1));return()=>{e&&e()}},[null==i?void 0:i.uid]),(0,s.useEffect)(()=>{if(!o&&!p&&i){let e="/onboarding"===u,a="/login"===u||"/signup"===u;(null==f?void 0:f.onboardingCompleted)!==!1||e||a?(null==f?void 0:f.onboardingCompleted)===!0&&e&&c.push("/dashboard"):c.push("/onboarding")}},[i,f,o,p,u,c]),o||i&&p&&"/onboarding"!==u&&"/login"!==u&&"/signup"!==u)return(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background",children:(0,r.jsx)(G.A,{className:"h-12 w-12 animate-spin text-primary"})});if(p&&i&&("/onboarding"===u||"/login"===u||"/signup"===u));else if(i||o){if(!i&&o)return(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background",children:(0,r.jsx)(G.A,{className:"h-12 w-12 animate-spin text-primary"})})}else["/","/blog","/terms","/privacy"].some(e=>u===e||"/blog"===e&&u.startsWith("/blog"));if(!i&&"/login"!==u&&"/signup"!==u&&!u.startsWith("/blog")&&"/"!==u&&"/terms"!==u&&"/privacy"!==u)return null;let h=async()=>{await l()},v=(null==i?void 0:i.displayName)?i.displayName.charAt(0).toUpperCase():(null==i?void 0:i.email)?i.email.charAt(0).toUpperCase():"U";return(0,r.jsx)(E,{defaultOpen:!0,children:(0,r.jsxs)("div",{className:"flex min-h-screen w-full",children:[" ",(0,r.jsx)(Y,{}),(0,r.jsxs)(O,{className:"flex flex-col flex-1 min-w-0",children:[" ",(0,r.jsxs)("header",{className:"sticky top-0 z-40 flex h-16 items-center justify-between gap-4 border-b bg-background px-4 sm:px-6 shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(I,{className:"lg:hidden"}),(0,r.jsxs)(n(),{href:"/",className:"flex items-center gap-2 md:hidden",children:[(0,r.jsx)(g.A,{className:"h-6 w-6 text-primary"}),(0,r.jsx)("span",{className:"font-headline text-xl font-bold text-foreground",children:"StudyTrack"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[i&&(0,r.jsx)(j.$,{variant:"ghost",size:"sm",asChild:!0,className:"mr-1",children:(0,r.jsxs)(n(),{href:"/rewards-shop",className:"flex items-center gap-1.5 px-2 py-1 h-auto",children:[(0,r.jsx)(q.A,{className:"h-5 w-5 text-amber-500 dark:text-amber-400"}),(0,r.jsx)("span",{className:"font-semibold text-sm text-foreground",children:p?(0,r.jsx)(G.A,{className:"h-4 w-4 animate-spin"}):null!=(a=null==f?void 0:f.coins)?a:0})]})}),i&&(0,r.jsxs)(et,{children:[(0,r.jsx)(er,{asChild:!0,children:(0,r.jsx)(j.$,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:(0,r.jsxs)(X,{className:"h-9 w-9",children:[(0,r.jsx)(Z,{src:"",alt:"User avatar"}),(0,r.jsx)($,{children:v})]})})}),(0,r.jsxs)(es,{className:"w-56",align:"end",forceMount:!0,children:[(0,r.jsx)(en,{className:"font-normal",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium leading-none",children:i.displayName||"User Name"}),(0,r.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:i.email||"user@example.com"})]})}),(0,r.jsx)(ed,{}),(0,r.jsx)(ei,{asChild:!0,children:(0,r.jsxs)(n(),{href:"/settings",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Settings"})]})}),(0,r.jsx)(ed,{}),(0,r.jsxs)(ei,{onClick:h,children:[(0,r.jsx)(H.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Log out"})]})]})]})]})]}),(0,r.jsxs)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 lg:p-8 bg-muted/30",children:[" ",t]})]})]})})}},59434:(e,a,t)=>{"use strict";t.d(a,{cn:()=>i});var r=t(52596),s=t(39688);function i(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,r.$)(a))}},62523:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var r=t(95155),s=t(12115),i=t(59434);let n=s.forwardRef((e,a)=>{let{className:t,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n})});n.displayName="Input"},63052:(e,a,t)=>{Promise.resolve().then(t.bind(t,59424))},68856:(e,a,t)=>{"use strict";t.d(a,{E:()=>i});var r=t(95155),s=t(59434);function i(e){let{className:a,...t}=e;return(0,r.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",a),...t})}},87481:(e,a,t)=>{"use strict";t.d(a,{dj:()=>f});var r=t(12115);let s=0,i=new Map,n=e=>{if(i.has(e))return;let a=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,a)},d=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},o=[],l={toasts:[]};function c(e){l=d(l,e),o.forEach(e=>{e(l)})}function u(e){let{...a}=e,t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function f(){let[e,a]=r.useState(l);return r.useEffect(()=>(o.push(a),()=>{let e=o.indexOf(a);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var a=a=>e(e.s=a);e.O(0,[2992,6073,4277,460,3418,1127,9397,6874,9205,7328,7019,589,8441,1684,7358],()=>a(63052)),_N_E=e.O()}]);