"use strict";exports.id=9727,exports.ids=[9727],exports.modules={15036:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(82614).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},19727:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var r=s(60687),a=s(43210),l=s.n(a),d=s(44493),i=s(29523),o=s(38765),n=s(57207),m=s(15036),c=s(11516),x=s(97034),u=s(54052),h=s(63503),p=s(76242),g=s(42692),b=s(4780),y=s(7112),f=s(33784),j=s(75535),N=s(73437),w=s(84645),k=s(85726),v=s(96834),E=s(9180);let M=l().lazy(()=>s.e(8730).then(s.bind(s,68730)));function C(){return(0,r.jsxs)("div",{className:"grid gap-4 py-4 max-h-[60vh] sm:max-h-[65vh] overflow-y-auto pr-3",children:[(0,r.jsx)(k.E,{className:"h-9 sm:h-10 w-full"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[(0,r.jsx)(k.E,{className:"h-9 sm:h-10 w-full"}),(0,r.jsx)(k.E,{className:"h-9 sm:h-10 w-full"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[(0,r.jsx)(k.E,{className:"h-9 sm:h-10 w-full"}),(0,r.jsx)(k.E,{className:"h-9 sm:h-10 w-full"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[(0,r.jsx)(k.E,{className:"h-9 sm:h-10 w-full"}),(0,r.jsx)(k.E,{className:"h-9 sm:h-10 w-full"})]}),(0,r.jsx)(k.E,{className:"h-16 sm:h-20 w-full"})]})}function A({selectedDate:e,selectedSubjectFilter:t}){let{currentUser:s}=(0,y.A)(),[l,k]=(0,a.useState)([]),[A,D]=(0,a.useState)(!0),[H,T]=(0,a.useState)({priority:"medium",status:"pending",duration:1,day:e.getDay(),startHour:9,subject:w.yo[0].id}),[P,z]=(0,a.useState)(!1),S=Array.from({length:15},(e,t)=>t+8),$=async()=>{if(!s||!f.db)return;if(!H.title||!H.subject||void 0===H.startHour||void 0===H.duration)return void alert("Please fill in all required fields: Title, Subject, Start Time, and Duration.");let t={userId:s.uid,title:H.title,subject:H.subject,topic:H.topic||"",description:H.description||"",duration:Number(H.duration)||1,priority:H.priority||"medium",status:"pending",day:e.getDay(),startHour:Number(H.startHour)};try{await (0,j.gS)((0,j.rJ)(f.db,"users",s.uid,"plannerTasks"),t),s.uid&&await (0,E.T)(s.uid),T({title:"",topic:"",description:"",priority:"medium",status:"pending",duration:1,day:e.getDay(),startHour:9,subject:w.yo[0].id}),z(!1)}catch(e){console.error("Error creating task: ",e),alert("Failed to create task. Please try again.")}},L=async e=>{if(!s||!f.db)return;let t=l.find(t=>t.id===e);if(!t)return;let r="completed"===t.status?"pending":"completed";try{await (0,j.mZ)((0,j.H9)(f.db,"users",s.uid,"plannerTasks",e),{status:r}),"completed"===r&&s.uid&&await (0,E.T)(s.uid)}catch(e){console.error("Error updating task status: ",e)}},V=async e=>{if(s&&f.db&&window.confirm("Are you sure you want to delete this task?"))try{await (0,j.kd)((0,j.H9)(f.db,"users",s.uid,"plannerTasks",e)),s.uid&&await (0,E.T)(s.uid)}catch(e){console.error("Error deleting task: ",e)}},G=e=>{let t=(0,w.nl)(e.subject),s=(0,w.kO)(e.priority),a=(0,w.DD)(e.startHour+e.duration);return(0,r.jsx)(p.Bc,{children:(0,r.jsxs)(p.m_,{delayDuration:300,children:[(0,r.jsx)(p.k$,{asChild:!0,children:(0,r.jsxs)(d.Zp,{className:(0,b.cn)("mb-2 sm:mb-3 shadow-md border transition-all duration-200 ease-out transform hover:shadow-lg hover:scale-[1.01]",t.color,"completed"===e.status?"opacity-60 line-through":""),children:[(0,r.jsxs)(d.aR,{className:"pb-1.5 sm:pb-2 pt-2 sm:pt-3 px-2 sm:px-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start gap-1 sm:gap-2",children:[(0,r.jsx)(d.ZB,{className:(0,b.cn)("text-sm sm:text-base font-semibold leading-tight break-words",t.textColor),title:e.title,children:e.title}),(0,r.jsxs)("div",{className:"flex items-center space-x-0.5 sm:space-x-1 shrink-0",children:[(0,r.jsx)(i.$,{variant:"ghost",size:"icon",className:"h-5 w-5 sm:h-6 sm:w-6",onClick:()=>L(e.id),title:"completed"===e.status?"Mark pending":"Mark completed",children:"completed"===e.status?(0,r.jsx)(o.A,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-green-600"}):(0,r.jsx)(o.A,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 opacity-50 hover:opacity-100"})}),(0,r.jsx)(i.$,{variant:"ghost",size:"icon",className:"h-5 w-5 sm:h-6 sm:w-6",onClick:()=>V(e.id),title:"Delete task",children:(0,r.jsx)(n.A,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-red-500 hover:text-red-700"})})]})]}),(0,r.jsxs)("div",{className:(0,b.cn)("text-xs opacity-90",t.textColor),children:[(0,r.jsx)("span",{className:"font-medium",children:t.name}),e.topic&&(0,r.jsxs)("span",{className:"ml-1 break-all",children:[" - ",e.topic]})]})]}),(0,r.jsxs)(d.Wu,{className:"px-2 sm:px-3 pb-2 sm:pb-3 text-xs",children:[e.description&&(0,r.jsx)("p",{className:(0,b.cn)("mb-1.5 sm:mb-2 opacity-80 break-words",t.textColor),children:e.description}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-1 sm:gap-2",children:[(0,r.jsxs)("div",{className:(0,b.cn)("flex items-center opacity-80",t.textColor),children:[(0,r.jsx)(m.A,{className:"h-3 w-3 mr-1"}),(0,r.jsxs)("span",{children:[(0,w.DD)(e.startHour)," (",e.duration," ",1===e.duration?"hr":"hrs",")"]})]}),(0,r.jsx)(v.E,{variant:s.variant,className:(0,b.cn)("mt-1 sm:mt-0 text-[10px] sm:text-xs px-1.5 py-0.5",s.className),children:s.text})]})]})]})}),(0,r.jsxs)(p.ZI,{side:"top",align:"center",className:"w-64",children:[(0,r.jsx)("p",{className:"font-semibold text-sm",children:e.title}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Subject: ",t.name]}),e.topic&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Topic: ",e.topic]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Time: ",(0,w.DD)(e.startHour)," - ",a]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Duration: ",e.duration," hr(s)"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground capitalize",children:["Priority: ",e.priority]}),e.description&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Notes: ",e.description]})]})]})},e.id)};if(A)return(0,r.jsxs)("div",{className:"flex-grow flex flex-col items-center justify-center p-4 sm:p-6 bg-muted/20 rounded-lg",children:[(0,r.jsx)(c.A,{className:"h-10 w-10 sm:h-12 sm:w-12 animate-spin text-primary mb-3 sm:mb-4"}),(0,r.jsxs)("p",{className:"text-muted-foreground text-sm sm:text-base",children:["Loading tasks for ",(0,N.GP)(e,"EEEE, MMM d"),"..."]})]});if(!s)return(0,r.jsx)(d.Zp,{className:"border-dashed flex-grow flex flex-col items-center justify-center min-h-[300px] sm:min-h-[400px] bg-muted/20 p-4",children:(0,r.jsxs)(d.Wu,{className:"pt-6 text-center",children:[(0,r.jsx)(x.A,{className:"h-8 w-8 sm:h-10 sm:w-10 text-primary mx-auto mb-3 sm:mb-4"}),(0,r.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-1.5 sm:mb-2",children:"Login to Plan Your Day"}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Please login to view and manage your daily study schedule."})]})});let O={};return l.forEach(e=>{O[e.startHour]||(O[e.startHour]=[]),O[e.startHour].push(e)}),(0,r.jsxs)("div",{className:"flex-grow flex flex-col p-1 sm:p-0",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3 sm:mb-4 px-1 sm:px-2 gap-2",children:[(0,r.jsxs)("h2",{className:"text-lg sm:text-xl font-bold text-foreground",children:["Tasks for: ",(0,N.GP)(e,"EEEE, MMMM d, yyyy")]}),(0,r.jsxs)(h.lG,{open:P,onOpenChange:z,children:[(0,r.jsx)(h.zM,{asChild:!0,children:(0,r.jsxs)(i.$,{size:"sm",className:"w-full sm:w-auto text-xs sm:text-sm",variant:"default",children:[(0,r.jsx)(u.A,{className:"mr-1.5 h-3.5 w-3.5 sm:h-4 sm:w-4"})," Add Task"]})}),(0,r.jsxs)(h.Cf,{className:"sm:max-w-md md:max-w-lg",children:[(0,r.jsxs)(h.c7,{children:[(0,r.jsxs)(h.L3,{className:"text-base sm:text-lg",children:["Add New Task for ",(0,N.GP)(e,"EEEE")]}),(0,r.jsxs)(h.rr,{className:"text-xs sm:text-sm",children:["Fill in the details for your new study task for ",(0,N.GP)(e,"MMMM d"),". Required fields are marked with ",(0,r.jsx)("span",{className:"text-destructive",children:"*"}),"."]})]}),(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(C,{}),children:(0,r.jsx)(M,{newTask:{...H,day:e.getDay()},onInputChange:e=>{let{name:t,value:s}=e.target;T(e=>({...e,[t]:s}))},onSelectChange:(e,t)=>{T(s=>({...s,[e]:t}))},isDayView:!0})}),(0,r.jsxs)(h.Es,{className:"mt-2 pt-3 sm:pt-4 border-t",children:[(0,r.jsx)(i.$,{variant:"outline",onClick:()=>z(!1),size:"sm",className:"text-xs sm:text-sm",children:"Cancel"}),(0,r.jsx)(i.$,{onClick:$,disabled:!H.title||!H.subject||void 0===H.startHour||void 0===H.duration,size:"sm",className:"text-xs sm:text-sm",children:"Save Task"})]})]})]})]}),0===l.length&&!A&&(0,r.jsx)(d.Zp,{className:"border-dashed flex-grow flex flex-col items-center justify-center min-h-[250px] sm:min-h-[300px] bg-muted/20",children:(0,r.jsxs)(d.Wu,{className:"text-center p-4 sm:p-6",children:[(0,r.jsx)(x.A,{className:"h-8 w-8 sm:h-10 sm:w-10 text-primary mx-auto mb-3 sm:mb-4"}),(0,r.jsxs)("h3",{className:"text-md sm:text-lg font-semibold mb-1 text-foreground",children:["No tasks for ",(0,N.GP)(e,"EEEE"),"."]}),(0,r.jsx)("p",{className:"text-muted-foreground text-xs sm:text-sm",children:t&&"all"!==t?`No tasks for ${(0,w.nl)(t).name} on this day. Add one or change the filter.`:"Enjoy your free day or add some tasks!"})]})}),l.length>0&&(0,r.jsx)(g.F,{className:"flex-grow pr-1 sm:pr-2",children:(0,r.jsx)("div",{className:"space-y-0",children:S.map(e=>(0,r.jsxs)("div",{className:"flex items-start py-1.5 sm:py-2 border-b last:border-b-0",children:[(0,r.jsx)("div",{className:"w-12 sm:w-16 text-[10px] sm:text-xs text-muted-foreground font-medium pt-0.5 sm:pt-1 text-right pr-1.5 sm:pr-2 shrink-0",children:(0,w.DD)(e)}),(0,r.jsx)("div",{className:"flex-grow pl-1.5 sm:pl-2 border-l min-h-[2.5rem] sm:min-h-[3rem]",children:O[e]&&O[e].length>0?O[e].map(e=>G(e)):(0,r.jsx)("div",{className:"text-[10px] sm:text-xs text-muted-foreground/70 italic h-full flex items-center",children:"No tasks scheduled."})})]},e))})})]})}},38765:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(82614).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},42692:(e,t,s)=>{s.d(t,{F:()=>i});var r=s(60687),a=s(43210),l=s(68123),d=s(4780);let i=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(l.bL,{ref:a,className:(0,d.cn)("relative overflow-hidden",e),...s,children:[(0,r.jsx)(l.LM,{className:"h-full w-full rounded-[inherit]",children:t}),(0,r.jsx)(o,{}),(0,r.jsx)(l.OK,{})]}));i.displayName=l.bL.displayName;let o=a.forwardRef(({className:e,orientation:t="vertical",...s},a)=>(0,r.jsx)(l.VM,{ref:a,orientation:t,className:(0,d.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:(0,r.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})}));o.displayName=l.VM.displayName},54052:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(82614).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},57207:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(82614).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},84645:(e,t,s)=>{s.d(t,{DD:()=>d,kO:()=>a,nl:()=>l,yo:()=>r});let r=[{id:"physics",name:"Physics",color:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-100 border-blue-300 dark:border-blue-700",textColor:"text-blue-800 dark:text-blue-100"},{id:"chemistry",name:"Chemistry",color:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-100 border-green-300 dark:border-green-700",textColor:"text-green-800 dark:text-green-100"},{id:"biology",name:"Biology",color:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-100 border-purple-300 dark:border-purple-700",textColor:"text-purple-800 dark:text-purple-100"},{id:"mathematics",name:"Mathematics",color:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-100 border-red-300 dark:border-red-700",textColor:"text-red-800 dark:text-red-100"},{id:"english",name:"English",color:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-100 border-yellow-300 dark:border-yellow-700",textColor:"text-yellow-800 dark:text-yellow-100"},{id:"history",name:"History",color:"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-100 border-orange-300 dark:border-orange-700",textColor:"text-orange-800 dark:text-orange-100"},{id:"other",name:"Other",color:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 border-gray-300 dark:border-gray-600",textColor:"text-gray-800 dark:text-gray-100"}],a=e=>{switch(e){case"high":return{text:"High",variant:"destructive",className:"bg-red-500 hover:bg-red-600 text-white"};case"medium":return{text:"Medium",variant:"default",className:"bg-yellow-500 hover:bg-yellow-600 text-white border-transparent"};case"low":return{text:"Low",variant:"outline",className:"bg-green-500 hover:bg-green-600 text-white border-green-600"};default:return{text:"Unknown",variant:"secondary"}}},l=e=>r.find(t=>t.id===e)||r.find(e=>"other"===e.id),d=e=>`${e%12==0?12:e%12} ${e>=12?"PM":"AM"}`},96834:(e,t,s)=>{s.d(t,{E:()=>i});var r=s(60687);s(43210);var a=s(24224),l=s(4780);let d=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,...s}){return(0,r.jsx)("div",{className:(0,l.cn)(d({variant:t}),e),...s})}},97034:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(82614).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])}};