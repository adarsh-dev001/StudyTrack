(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8743],{7455:(e,t,s)=>{"use strict";s.d(t,{EE:()=>c,mS:()=>d});var r=s(36936),a=s(68027),n=s(82733);let i={id:"default_light_theme",name:"Default Light",description:"The standard light theme for StudyTrack.",price:0,icon:r.A,category:"Theme",colorClass:"bg-slate-100 border-slate-300 text-slate-700",themeDetails:{background:"210 20% 96.1%",foreground:"0 0% 3.9%",card:"0 0% 100%",cardForeground:"0 0% 3.9%",popover:"0 0% 100%",popoverForeground:"0 0% 3.9%",primary:"200 95% 74.5%",primaryForeground:"0 0% 3.9%",secondary:"210 20% 90%",secondaryForeground:"0 0% 9%",muted:"210 20% 92%",mutedForeground:"0 0% 45.1%",accent:"26 95% 53.1%",accentForeground:"0 0% 98%",destructive:"0 84.2% 60.2%",destructiveForeground:"0 0% 98%",border:"210 20% 85%",input:"0 0% 100%",ring:"200 95% 74.5%"}},o={id:"crimson_dark_theme",name:"Crimson Dark",description:"A sleek dark theme with crimson accents.",price:150,icon:a.A,category:"Theme",colorClass:"bg-red-800/10 border-red-800/30 text-red-300",themeDetails:{background:"0 0% 8%",foreground:"0 0% 90%",card:"0 0% 12%",cardForeground:"0 0% 90%",popover:"0 0% 10%",popoverForeground:"0 0% 90%",primary:"348 83% 47%",primaryForeground:"0 0% 98%",secondary:"0 0% 15%",secondaryForeground:"0 0% 80%",muted:"0 0% 20%",mutedForeground:"0 0% 60%",accent:"348 83% 57%",accentForeground:"0 0% 98%",destructive:"0 70% 50%",destructiveForeground:"0 0% 98%",border:"0 0% 25%",input:"0 0% 15%",ring:"348 83% 47%",sidebarBackground:"0 0% 5%",sidebarForeground:"0 0% 85%"}},l={id:"ocean_blue_theme",name:"Ocean Blue",description:"A refreshing light theme with deep blue and teal accents.",price:120,icon:n.A,category:"Theme",colorClass:"bg-sky-600/10 border-sky-600/30 text-sky-300",themeDetails:{background:"205 50% 95%",foreground:"215 30% 25%",card:"0 0% 100%",cardForeground:"215 30% 25%",popover:"0 0% 100%",popoverForeground:"215 30% 25%",primary:"210 85% 55%",primaryForeground:"0 0% 100%",secondary:"190 50% 90%",secondaryForeground:"190 30% 30%",muted:"200 40% 92%",mutedForeground:"200 20% 50%",accent:"170 70% 45%",accentForeground:"0 0% 100%",destructive:"0 80% 60%",destructiveForeground:"0 0% 100%",border:"200 30% 80%",input:"0 0% 100%",ring:"210 85% 55%"}},d=i.id,c=[o,l]},10518:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},18553:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]])},19616:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});var r=s(44598),a=s(76959);function n(e){return(0,a.r)(e,(0,r.A)(e))}},19852:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var r=s(95155),a=s(12115),n=s(27600),i=s(56104),o=s(35317),l=s(30285),d=s(66695),c=s(18553),u=s(30462),m=s(91467),p=s(40157);let h=(0,p.A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var x=s(37648),g=s(89829),f=s(50172),y=s(2160);let v=(0,p.A)("CalendarCheck2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);var b=s(10518);let k=(0,p.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var j=s(87481),w=s(19616),N=s(44598),C=s(76959),A=s(78816),S=s(59434),I=s(6874),D=s.n(I),T=s(7455);let E={currentStreak:0,longestStreak:0,lastCheckInDate:null},F={earnedBadgeIds:[],xp:0,coins:0,purchasedItemIds:[],activeThemeId:T.mS,dailyChallengeStatus:{},lastInteractionDates:[]},B=[{id:"streak_1",name:"Spark Starter",description:"Checked in for the 1st day!",icon:c.A,milestone:1,type:"streak",colorClass:"bg-orange-500/10 border-orange-500/30 text-orange-700 dark:text-orange-300"},{id:"streak_3",name:"Consistent Learner",description:"Maintained a 3-day streak!",icon:u.A,milestone:3,type:"streak",colorClass:"bg-yellow-500/10 border-yellow-500/30 text-yellow-700 dark:text-yellow-300"},{id:"streak_7",name:"Week Warrior",description:"Completed a 7-day streak!",icon:m.A,milestone:7,type:"streak",colorClass:"bg-green-500/10 border-green-500/30 text-green-700 dark:text-green-300"},{id:"streak_30",name:"Monthly Marvel",description:"Achieved a 30-day streak!",icon:h,milestone:30,type:"streak",colorClass:"bg-sky-500/10 border-sky-500/30 text-sky-700 dark:text-sky-300"},{id:"pomodoro_10",name:"Pomodoro Power",description:"Completed 10 Pomodoro sessions.",icon:x.A,milestone:10,type:"pomodoro",colorClass:"bg-red-500/10 border-red-500/30 text-red-700 dark:text-red-300"},{id:"task_25",name:"Task Titan",description:"Completed 25 study tasks.",icon:g.A,milestone:25,type:"task",colorClass:"bg-purple-500/10 border-purple-500/30 text-purple-700 dark:text-purple-300"}];function _(){let{currentUser:e}=(0,n.A)(),{toast:t}=(0,j.dj)(),[s,p]=(0,a.useState)(E),[h,x]=(0,a.useState)(F),[g,I]=(0,a.useState)(!0),[_,R]=(0,a.useState)(!1),[P,M]=(0,a.useState)(!1),[O,Z]=(0,a.useState)(null),L=(0,a.useRef)(null),z=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(L.current&&L.current(),z.current&&z.current(),L.current=null,z.current=null,!(null==e?void 0:e.uid)||!i.db){I(!1),p(E),x(F),M(!1);return}I(!0);let s=(0,o.H9)(i.db,"users",e.uid,"streaksData","main");L.current=(0,o.aQ)(s,e=>{if(e.exists()){let t=e.data(),s={currentStreak:"number"==typeof t.currentStreak?t.currentStreak:0,longestStreak:"number"==typeof t.longestStreak?t.longestStreak:0,lastCheckInDate:t.lastCheckInDate instanceof o.Dc?t.lastCheckInDate:null};p(s),M(!!(s.lastCheckInDate&&(0,w.c)(s.lastCheckInDate.toDate())))}else p(E),M(!1);I(!1)},e=>{console.error("Error fetching streak data:",e),t({title:"Error Loading Streaks",description:"Could not load streak data.",variant:"destructive"}),I(!1)});let r=(0,o.H9)(i.db,"users",e.uid,"userProfile","profile");return z.current=(0,o.aQ)(r,e=>{if(e.exists()){let t=e.data();x({earnedBadgeIds:Array.isArray(t.earnedBadgeIds)?t.earnedBadgeIds:[],xp:"number"==typeof t.xp?t.xp:0,coins:"number"==typeof t.coins?t.coins:0,purchasedItemIds:Array.isArray(t.purchasedItemIds)?t.purchasedItemIds:[],activeThemeId:"string"==typeof t.activeThemeId?t.activeThemeId:T.mS,dailyChallengeStatus:"object"==typeof t.dailyChallengeStatus?t.dailyChallengeStatus:{},lastInteractionDates:Array.isArray(t.lastInteractionDates)?t.lastInteractionDates:[]})}else{let e={...F,lastInteractionDates:[]};(0,o.BN)(r,e,{merge:!0}).then(()=>x(e)).catch(e=>console.error("Error creating initial user profile:",e))}},e=>{console.error("Error fetching user profile data:",e),t({title:"Error Loading Profile",description:"Could not load profile data.",variant:"destructive"})}),()=>{L.current&&L.current(),z.current&&z.current()}},[null==e?void 0:e.uid,t]);let W=(0,a.useCallback)(async()=>{let r=null==e?void 0:e.uid;if(!r||!i.db)return void t({title:"Error",description:"You must be logged in.",variant:"destructive"});if(s.lastCheckInDate&&(0,w.c)(s.lastCheckInDate.toDate()))return void t({title:"Already Checked In",description:"You have already checked in for today!"});R(!0);let a=(0,o.H9)(i.db,"users",r,"streaksData","main"),n=(0,o.H9)(i.db,"users",r,"userProfile","profile");try{var l;let[e,s]=await Promise.all([(0,o.x7)(a),(0,o.x7)(n)]),r=e.exists()?e.data():E,i=s.exists()?s.data():{...F,lastInteractionDates:[]};if(i.earnedBadgeIds=i.earnedBadgeIds||[],i.purchasedItemIds=i.purchasedItemIds||[],i.dailyChallengeStatus=i.dailyChallengeStatus||{},i.activeThemeId=void 0===i.activeThemeId?T.mS:i.activeThemeId,i.lastInteractionDates=i.lastInteractionDates||[],r.lastCheckInDate&&(0,w.c)(r.lastCheckInDate.toDate())){t({title:"Already Checked In",description:"You have already checked in today (verified from DB)."}),p(r),M(!0),R(!1);return}let d=o.Dc.fromDate(new Date),c=1;r.lastCheckInDate&&(l=r.lastCheckInDate.toDate(),(0,C.r)(l,(0,A.e)((0,N.A)(l),1)))&&(c=r.currentStreak+1);let u=Math.max(r.longestStreak,c),m={currentStreak:c,longestStreak:u,lastCheckInDate:d};await (0,o.BN)(a,m,{merge:!0});let h=[],x=[...i.earnedBadgeIds];B.forEach(e=>{"streak"===e.type&&c>=e.milestone&&!i.earnedBadgeIds.includes(e.id)&&(x.push(e.id),h.push(e))});let g=10+5*(h.length>0),f=(i.coins||0)+g,y=(i.xp||0)+5;await (0,o.BN)(n,{earnedBadgeIds:x,coins:f,xp:y},{merge:!0}),h.forEach(e=>{t({title:"\uD83C\uDF89 Badge Unlocked: ".concat(e.name,"!"),description:e.description})}),t({title:"Checked In Successfully!",description:"Streak: ".concat(c," ").concat(1===c?"day":"days",". +").concat(5," XP, +").concat(g," Coins! \uD83E\uDE99")})}catch(e){console.error("Error during check-in or badge awarding:",e),t({title:"Check-in Failed",description:e.message,variant:"destructive"})}finally{R(!1)}},[null==e?void 0:e.uid,t,s]),Y=e=>{navigator.clipboard.writeText('I just unlocked the "'.concat(e,'" badge on StudyTrack! \uD83D\uDE80 #StudyTrack #Achievement')).then(()=>{var s;let r=null==(s=B.find(t=>t.name===e))?void 0:s.id;r&&(Z(r),setTimeout(()=>Z(null),2e3)),t({title:"Share Message Copied!",description:"A message has been copied to your clipboard. Paste it to share!"})}).catch(s=>{console.error("Failed to copy share text: ",s),t({title:"Sharing (Placeholder)",description:'Sharing the "'.concat(e,'" badge is coming soon! For now, spread the word! âœ¨')})})};if(g)return(0,r.jsx)("div",{className:"flex flex-col h-full items-center justify-center text-center p-4",children:(0,r.jsx)(f.A,{className:"h-10 w-10 sm:h-12 sm:w-12 animate-spin text-primary"})});if(!(null==e?void 0:e.uid))return(0,r.jsxs)("div",{className:"w-full space-y-6 p-4",children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight md:text-4xl",children:"Study Streaks & Achievements"}),(0,r.jsx)("p",{className:"text-md sm:text-lg text-muted-foreground",children:"Log in to track your consistency and earn badges!"}),(0,r.jsx)(d.Zp,{className:"w-full shadow-lg",children:(0,r.jsx)(d.Wu,{className:"pt-6 text-center p-4 sm:p-6",children:(0,r.jsx)("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Please log in to view and manage your study streaks and achievements."})})})]});let H=(null==s?void 0:s.currentStreak)||0,U=(null==s?void 0:s.longestStreak)||0,K=(null==s?void 0:s.lastCheckInDate)?s.lastCheckInDate.toDate().toLocaleDateString():"Never",V=B.filter(e=>h.earnedBadgeIds.includes(e.id)),X=B.filter(e=>!h.earnedBadgeIds.includes(e.id));return(0,r.jsxs)("div",{className:"w-full space-y-6 sm:space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight md:text-4xl",children:"Study Streaks & Achievements"}),(0,r.jsx)("p",{className:"text-md sm:text-lg text-muted-foreground",children:"Track your daily consistency, build strong habits, and unlock cool badges!"})]}),(0,r.jsxs)("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[(0,r.jsxs)(d.Zp,{className:"shadow-xl transform hover:scale-105 transition-transform duration-300",children:[(0,r.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-5",children:[(0,r.jsx)(d.ZB,{className:"text-lg sm:text-xl font-semibold",children:"Current Streak"}),(0,r.jsx)(c.A,{className:"h-7 w-7 sm:h-8 sm:w-8 text-orange-500"})]}),(0,r.jsxs)(d.Wu,{className:"p-4 sm:p-5",children:[(0,r.jsx)("div",{className:"text-4xl sm:text-5xl font-bold text-orange-500",children:H}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground pt-1",children:[1===H?"day":"days"," of consistent study"]})]})]}),(0,r.jsxs)(d.Zp,{className:"shadow-xl transform hover:scale-105 transition-transform duration-300",children:[(0,r.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-5",children:[(0,r.jsx)(d.ZB,{className:"text-lg sm:text-xl font-semibold",children:"Longest Streak"}),(0,r.jsx)(m.A,{className:"h-7 w-7 sm:h-8 sm:w-8 text-primary"})]}),(0,r.jsxs)(d.Wu,{className:"p-4 sm:p-5",children:[(0,r.jsx)("div",{className:"text-4xl sm:text-5xl font-bold text-primary",children:U}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground pt-1",children:"Your personal best!"})]})]}),(0,r.jsxs)(d.Zp,{className:"shadow-xl flex flex-col transform hover:scale-105 transition-transform duration-300",children:[(0,r.jsxs)(d.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4 sm:p-5",children:[(0,r.jsx)(d.ZB,{className:"text-lg sm:text-xl font-semibold",children:"Your Rewards"}),(0,r.jsx)(u.A,{className:"h-7 w-7 sm:h-8 sm:w-8 text-yellow-400"})]}),(0,r.jsxs)(d.Wu,{className:"flex-grow p-4 sm:p-5",children:[(0,r.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold text-yellow-500 dark:text-yellow-400",children:[h.xp," XP"]}),(0,r.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold text-yellow-500 dark:text-yellow-400 mt-1",children:[h.coins," \uD83E\uDE99"]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground pt-1",children:"Earn by checking in, completing challenges & streaks!"})]}),(0,r.jsx)(d.wL,{className:"p-4 sm:p-5",children:(0,r.jsx)(l.$,{variant:"outline",size:"sm",asChild:!0,className:"w-full text-xs sm:text-sm",children:(0,r.jsxs)(D(),{href:"/rewards-shop",children:["Visit Shop ",(0,r.jsx)(y.A,{className:"ml-1.5 h-3.5 w-3.5 sm:h-4 sm:w-4"})]})})})]})]}),(0,r.jsxs)(d.Zp,{className:"shadow-lg",children:[(0,r.jsxs)(d.aR,{className:"p-4 sm:p-6",children:[(0,r.jsx)(d.ZB,{className:"text-lg sm:text-xl",children:"Daily Check-in"}),(0,r.jsx)(d.BT,{className:"text-xs sm:text-sm",children:P?"You've already checked in for today. Great job!":"Check in now to maintain your streak & earn rewards!"})]}),(0,r.jsxs)(d.Wu,{className:"p-4 sm:p-6",children:[(0,r.jsxs)(l.$,{onClick:W,disabled:P||_,className:"w-full text-md sm:text-lg py-3 sm:py-6",size:"lg",children:[_?(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5 animate-spin"}):P?(0,r.jsx)(v,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}):(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),_?"Checking In...":P?"Checked In for Today!":"Check-in & Earn Rewards"]}),(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-2 sm:mt-3 text-center",children:["Last check-in: ",K]})]})]}),(0,r.jsxs)(d.Zp,{className:"shadow-lg",children:[(0,r.jsxs)(d.aR,{className:"p-4 sm:p-6",children:[(0,r.jsxs)(d.ZB,{className:"text-xl sm:text-2xl font-semibold flex items-center",children:[(0,r.jsx)(m.A,{className:"mr-2 sm:mr-3 h-6 w-6 sm:h-7 sm:w-7 text-yellow-500"})," Your Achievements"]}),(0,r.jsx)(d.BT,{className:"text-xs sm:text-sm",children:"Celebrate your milestones and dedication!"})]}),(0,r.jsxs)(d.Wu,{className:"p-4 sm:p-6",children:[0===V.length&&(0,r.jsx)("p",{className:"text-muted-foreground text-center py-3 sm:py-4 text-sm sm:text-base",children:"No badges unlocked yet. Keep checking in and completing challenges! \uD83D\uDCAA"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:V.map(e=>(0,r.jsxs)(d.Zp,{className:(0,S.cn)("p-3 sm:p-4 flex flex-col items-center text-center shadow-md",e.colorClass),children:[(0,r.jsx)("div",{className:"p-2 sm:p-3 bg-white/70 dark:bg-black/30 rounded-full mb-1.5 sm:mb-2 inline-block shadow",children:(0,r.jsx)(e.icon,{className:"h-8 w-8 sm:h-10 sm:w-10"})}),(0,r.jsx)("h3",{className:"font-semibold text-md sm:text-lg mb-0.5",children:e.name}),(0,r.jsx)("p",{className:"text-xs opacity-90 mb-1.5 sm:mb-2",children:e.description}),(0,r.jsxs)(l.$,{variant:"outline",size:"xs",onClick:()=>Y(e.name),className:"mt-auto border-current hover:bg-current/20 w-full text-xs sm:text-sm",children:[O===e.id?(0,r.jsx)(b.A,{className:"mr-1.5 h-3.5 w-3.5"}):(0,r.jsx)(k,{className:"mr-1.5 h-3.5 w-3.5"}),O===e.id?"Copied!":"Share"]})]},e.id))})]})]}),X.length>0&&(0,r.jsxs)(d.Zp,{className:"shadow-md",children:[(0,r.jsxs)(d.aR,{className:"p-4 sm:p-6",children:[(0,r.jsx)(d.ZB,{className:"text-lg sm:text-xl font-semibold",children:"\uD83C\uDFAF Badges to Unlock"}),(0,r.jsx)(d.BT,{className:"text-xs sm:text-sm",children:"Keep pushing to earn these awesome badges!"})]}),(0,r.jsx)(d.Wu,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 p-4 sm:p-6",children:X.map(e=>(0,r.jsxs)(d.Zp,{className:(0,S.cn)("p-3 sm:p-4 flex flex-col items-center text-center border-dashed opacity-70 hover:opacity-100 transition-opacity",e.colorClass,"bg-opacity-5 dark:bg-opacity-5"),children:[(0,r.jsx)("div",{className:"p-2 sm:p-3 bg-white/50 dark:bg-black/20 rounded-full mb-1.5 sm:mb-2 inline-block shadow-sm",children:(0,r.jsx)(e.icon,{className:"h-8 w-8 sm:h-10 sm:w-10"})}),(0,r.jsx)("h3",{className:"font-semibold text-sm sm:text-md mb-0.5",children:e.name}),(0,r.jsx)("p",{className:"text-xs opacity-80 mb-1",children:e.description}),(0,r.jsxs)("p",{className:"text-xs font-medium mt-auto",children:["streak"===e.type&&"Reach a ".concat(e.milestone,"-day streak!"),"pomodoro"===e.type&&"Complete ".concat(e.milestone," Pomodoros!"),"task"===e.type&&"Complete ".concat(e.milestone," tasks!")]})]},e.id))})]}),(0,r.jsxs)("div",{className:"mt-6 sm:mt-8 p-4 sm:p-6 rounded-xl border bg-card text-card-foreground shadow",children:[(0,r.jsx)("h2",{className:"text-lg sm:text-xl font-semibold mb-2 sm:mb-3",children:"Why Track Streaks & Achievements?"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-1.5 sm:space-y-2 text-xs sm:text-sm text-muted-foreground",children:[(0,r.jsx)("li",{children:"âœ… Builds a powerful habit of daily studying."}),(0,r.jsx)("li",{children:"\uD83D\uDE80 Provides motivation to stay consistent."}),(0,r.jsx)("li",{children:"\uD83D\uDCCA Visualizes your commitment and progress over time."}),(0,r.jsx)("li",{children:"\uD83D\uDCA1 Helps in identifying patterns and overcoming procrastination."}),(0,r.jsx)("li",{children:"\uD83C\uDFC6 Unlock cool badges as a reward for your hard work!"})]})]})]})}},27600:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,AuthProvider:()=>u});var r=s(95155),a=s(93004),n=s(35695),i=s(12115),o=s(56104),l=s(87481);let d=(0,i.createContext)(void 0);function c(){let e=(0,i.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function u(e){let{children:t}=e,[s,c]=(0,i.useState)(null),[u,m]=(0,i.useState)(!0),[p,h]=(0,i.useState)(null),x=(0,n.useRouter)(),{toast:g}=(0,l.dj)();(0,i.useEffect)(()=>(0,a.hg)(o.j2,e=>{c(e),m(!1)},e=>{h(e.message),m(!1),g({title:"Authentication Error",description:e.message,variant:"destructive"})}),[g]);let f=(0,i.useCallback)(async(e,t,s)=>{m(!0),h(null);try{let r=await (0,a.eJ)(o.j2,e,t);await (0,a.r7)(r.user,{displayName:s}),c(r.user),g({title:"Signup Successful!",description:"Welcome to StudyTrack!"}),x.push("/dashboard")}catch(e){h(e.message),"auth/email-already-in-use"===e.code?g({title:"Signup Failed",description:"This email address is already registered. Please use a different email or try logging in.",variant:"destructive"}):g({title:"Signup Failed",description:e.message,variant:"destructive"})}finally{m(!1)}},[o.j2,x,g]),y=(0,i.useCallback)(async(e,t)=>{m(!0),h(null);try{await (0,a.x9)(o.j2,e,t),g({title:"Login Successful!",description:"Welcome back!"}),x.push("/dashboard")}catch(e){h(e.message),g({title:"Login Failed",description:e.message,variant:"destructive"})}finally{m(!1)}},[o.j2,x,g]),v=(0,i.useCallback)(async()=>{m(!0),h(null);try{await (0,a.CI)(o.j2),g({title:"Logged Out",description:"You have been successfully logged out."}),x.push("/login")}catch(e){h(e.message),g({title:"Logout Failed",description:e.message,variant:"destructive"})}finally{m(!1)}},[o.j2,x,g]),b=(0,i.useMemo)(()=>({currentUser:s,loading:u,error:p,signUp:f,signIn:y,logOut:v}),[s,u,p,f,y,v]);return(0,r.jsx)(d.Provider,{value:b,children:t})}},30285:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,r:()=>l});var r=s(95155),a=s(12115),n=s(99708),i=s(74466),o=s(59434);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:s})),ref:t,...c})});d.displayName="Button"},30462:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},35476:(e,t,s)=>{"use strict";function r(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}s.d(t,{a:()=>r})},37648:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},44598:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(92084);function a(e){return(0,r.w)(e,Date.now())}},56104:(e,t,s)=>{"use strict";let r;s.d(t,{db:()=>c,j2:()=>d});var a=s(23915),n=s(93004),i=s(35317),o=s(86864);let l={apiKey:"AIzaSyAuHcdS5piYz3vMmCji71C-TgrYvZeC7Mw",authDomain:"studyplanner-4abf5.firebaseapp.com",projectId:"studyplanner-4abf5",storageBucket:"studyplanner-4abf5.firebasestorage.app",messagingSenderId:"193887379026",appId:"1:193887379026:web:34b7b5e1bde23d79c5898b",measurementId:"G-PZWY3Y7QBE"};l.apiKey&&l.projectId||console.error("CRITICAL FIREBASE CONFIGURATION ERROR: Firebase apiKey or projectId is missing or undefined.","This usually means your environment variables are not loaded correctly.","Please verify the following:","1. Your .env file is at the ROOT of your project.",'2. All Firebase related environment variables in .env START WITH "NEXT_PUBLIC_". (e.g., NEXT_PUBLIC_FIREBASE_API_KEY).',"3. You have RESTARTED your Next.js development server after making changes to the .env file.","4. The values in your .env file are correct and do not contain typos.","Current apiKey used for initialization: ".concat(l.apiKey),"Current projectId used for initialization: ".concat(l.projectId)),r=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)(l);let d=(0,n.xI)(r),c=(0,i.aU)(r);if(l.measurementId)try{(0,o.P5)(r)}catch(e){console.error("Firebase Analytics initialization error:",e)}(0,n.oM)(d,n.F0).catch(e=>{console.error("Firebase: Error setting auth persistence:",e.code,e.message)})},59434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(52596),a=s(39688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},66695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>u});var r=s(95155),a=s(12115),n=s(59434);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},70831:(e,t,s)=>{"use strict";s.d(t,{f:()=>n});var r=s(35476),a=s(92084);function n(e,t){let s=(0,r.a)(e);return isNaN(t)?(0,a.w)(e,NaN):(t&&s.setDate(s.getDate()+t),s)}},73887:(e,t,s)=>{Promise.resolve().then(s.bind(s,19852))},76959:(e,t,s)=>{"use strict";s.d(t,{r:()=>a});var r=s(80644);function a(e,t){return+(0,r.o)(e)==+(0,r.o)(t)}},78816:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});var r=s(70831);function a(e,t){return(0,r.f)(e,-t)}},80644:(e,t,s)=>{"use strict";s.d(t,{o:()=>a});var r=s(35476);function a(e){let t=(0,r.a)(e);return t.setHours(0,0,0,0),t}},87481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var r=s(12115);let a=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},89829:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},91467:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},92084:(e,t,s)=>{"use strict";function r(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}s.d(t,{w:()=>r})}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,6073,4277,460,6874,7952,8441,1684,7358],()=>t(73887)),_N_E=e.O()}]);